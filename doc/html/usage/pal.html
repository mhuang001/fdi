
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>pal: Product Access Layer &#8212; fdi v0.8 documentation</title>
    <link rel="stylesheet" href="../_static/aiohttp.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/js/custom.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="pns: Processing Node Server" href="pns.html" />
    <link rel="prev" title="dataset: Model for Data Container" href="dataset.html" />
 
<link rel="stylesheet" href="../_static/custom.css" type="text/css" />


<meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />
<link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet">

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="pal-product-access-layer">
<h1><strong>pal</strong>: Product Access Layer<a class="headerlink" href="#pal-product-access-layer" title="Permalink to this headline">¶</a></h1>
<p>Product Access Layer allows data stored logical “pools” to be accessed with light weight product refernces by data processers, data storage, and data consumers. A data product can include a context built with references of relevant data. A ProductStorage interface is provided to handle saving/retrieving/querying data in registered pools.</p>
<div class="section" id="rationale">
<h2>Rationale<a class="headerlink" href="#rationale" title="Permalink to this headline">¶</a></h2>
<p>In a data processing pipeline or network of processing nodes, data products are generated within a context which may include input data, reference data, and auxiliary data of many kind. It is often needed to have relevant context recorded with a product. However the context could have a large size so including them as metadata of the product is often impractical.</p>
<p>Because once data are generated they can have a reference through which they can be accessed. The size of such references are typically less than a few hundred bytes, like a URL. In the product context only data references are recorded.</p>
<p>This package provides MapContext, ProductRef, Urn, ProductStorage classes (simplified but mostly API-compatible with <a class="reference external" href="http://herschel.esac.esa.int/hcss-doc-15.0/load/sg/html/Sadm.Pal.html">Herschel Common Science System v15.0</a>) for the storing, retrieving, tagging, and context creating of data product modeled in the dataset package.</p>
</div>
<div class="section" id="definitions">
<h2>Definitions<a class="headerlink" href="#definitions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="urn">
<h3>URN<a class="headerlink" href="#urn" title="Permalink to this headline">¶</a></h3>
<p>The Universial Resource Name (URN) string has this format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">urn</span><span class="p">:</span><span class="n">poolname</span><span class="p">:</span><span class="n">resourceclass</span><span class="p">:</span><span class="n">serialnumber</span>
</pre></div>
</div>
<p>where</p>
<dl class="field-list simple">
<dt class="field-odd">resourceclass</dt>
<dd class="field-odd"><p>fully qualified class name of the resource (product)</p>
</dd>
<dt class="field-even">poolname</dt>
<dd class="field-even"><p>scheme + <code class="docutils literal notranslate"><span class="pre">://</span></code> + place + directory</p>
</dd>
<dt class="field-odd">scheme</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">file</span></code>, <code class="docutils literal notranslate"><span class="pre">mem</span></code>, <code class="docutils literal notranslate"><span class="pre">http</span></code> … etc</p>
</dd>
<dt class="field-even">place</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">192.168.5.6:8080</span></code>, <code class="docutils literal notranslate"><span class="pre">c:</span></code>, an empty string … etc</p>
</dd>
<dt class="field-odd">directory</dt>
<dd class="field-odd"><ul class="simple">
<li><p>for <code class="docutils literal notranslate"><span class="pre">file</span></code> scheme: <code class="docutils literal notranslate"><span class="pre">/</span></code> + name + <code class="docutils literal notranslate"><span class="pre">/</span></code> + name + … + <code class="docutils literal notranslate"><span class="pre">/</span></code> + name</p></li>
<li><p>for <code class="docutils literal notranslate"><span class="pre">mem</span></code> scheme: <code class="docutils literal notranslate"><span class="pre">/</span></code> + name + … + <code class="docutils literal notranslate"><span class="pre">/</span></code> + process_ID</p></li>
</ul>
</dd>
<dt class="field-even">serialnumber</dt>
<dd class="field-even"><ul class="simple">
<li><p>for <code class="docutils literal notranslate"><span class="pre">file</span></code> scheme: internal index. str(int).</p></li>
<li><p>for <code class="docutils literal notranslate"><span class="pre">mem</span></code> scheme: python object id. str(int).</p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="productref">
<h3>ProductRef<a class="headerlink" href="#productref" title="Permalink to this headline">¶</a></h3>
<p>This class not only holds the URN of the product it references to, but also records who ( the _parents_) are keeping this reference.</p>
</div>
<div class="section" id="context-and-mapcontext">
<h3>Context and MapContext<a class="headerlink" href="#context-and-mapcontext" title="Permalink to this headline">¶</a></h3>
<p>Context is a Product that holds a set of <code class="docutils literal notranslate"><span class="pre">productRef</span></code> s that accessible by keys. The keys are strings for MapContext which usually maps names to product references.</p>
</div>
<div class="section" id="productstorage">
<h3>ProductStorage<a class="headerlink" href="#productstorage" title="Permalink to this headline">¶</a></h3>
<p>A centralized access place for saving/loading/querying/deleting data organized in conceptual pools. One gets a ProductRef when saving data.</p>
</div>
<div class="section" id="productpool">
<h3>ProductPool<a class="headerlink" href="#productpool" title="Permalink to this headline">¶</a></h3>
<p>An place where products can be saved, with a reference for the saved product generated. The product can be retrieved with the reference. Pools based on different media or networking mechanism can be implemented. Multiple pools can be registered in a
ProductStorage front-end where users can do the saving, loading, querying etc. so that the pools are collectively form a larger logical storage.</p>
</div>
</div>
<div class="section" id="run-tests">
<h2>run tests<a class="headerlink" href="#run-tests" title="Permalink to this headline">¶</a></h2>
<p>in the same directory:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>./test <span class="m">2</span>
</pre></div>
</div>
</div>
<div class="section" id="design">
<h2>Design<a class="headerlink" href="#design" title="Permalink to this headline">¶</a></h2>
<p>Packages</p>
<img alt="../_images/packages_pal1.png" src="../_images/packages_pal1.png" />
<p>Classes</p>
<img alt="../_images/classes_pal1.png" src="../_images/classes_pal1.png" />
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">fdi</a></h1>










<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Install FDI</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataset.html"><strong>dataset</strong>: Model for Data Container</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"><strong>pal</strong>: Product Access Layer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#rationale">Rationale</a></li>
<li class="toctree-l2"><a class="reference internal" href="#definitions">Definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#run-tests">run tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="#design">Design</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pns.html"><strong>pns</strong>: Processing Node Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">fdi Quick Start</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/api.html">API Reference</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="dataset.html" title="previous chapter"><strong>dataset</strong>: Model for Data Container</a></li>
      <li>Next: <a href="pns.html" title="next chapter"><strong>pns</strong>: Processing Node Server</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Maohai Huang.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.1.2</a>
      
      |
      <a href="../_sources/usage/pal.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>