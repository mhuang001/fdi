
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>pns package &#8212; spdc v0.6 documentation</title>
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="pns.resources package" href="pns.resources.html" />
    <link rel="prev" title="pal.resources package" href="../pal/pal.resources.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pns.resources.html" title="pns.resources package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../pal/pal.resources.html" title="pal.resources package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">spdc v0.6 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../api.html" accesskey="U">API Reference</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">pns package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#module-pns.common">Submodules</a></li>
<li><a class="reference internal" href="#module-pns">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../pal/pal.resources.html"
                        title="previous chapter">pal.resources package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="pns.resources.html"
                        title="next chapter">pns.resources package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/api/pns/pns.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="pns-package">
<h1>pns package<a class="headerlink" href="#pns-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="pns.resources.html">pns.resources package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pns.resources.html#module-pns.resources">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="module-pns.common">
<span id="submodules"></span><h2>Submodules<a class="headerlink" href="#module-pns.common" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pns.common.getJsonObj">
<code class="sig-prename descclassname">pns.common.</code><code class="sig-name descname">getJsonObj</code><span class="sig-paren">(</span><em class="sig-param">url</em>, <em class="sig-param">headers=None</em>, <em class="sig-param">usedict=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.common.getJsonObj" title="Permalink to this definition">¶</a></dt>
<dd><p>return object from url. url can be http or file.
translate keys and values from string to
number if applicable. Return None if fails.
Not using requests.get() as it cannot open <a class="reference external" href="file:///">file:///</a> w/o installing
<a class="reference external" href="https://pypi.python.org/pypi/requests-file">https://pypi.python.org/pypi/requests-file</a></p>
</dd></dl>

<dl class="function">
<dt id="pns.common.postJsonObj">
<code class="sig-prename descclassname">pns.common.</code><code class="sig-name descname">postJsonObj</code><span class="sig-paren">(</span><em class="sig-param">url</em>, <em class="sig-param">obj</em>, <em class="sig-param">headers</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.common.postJsonObj" title="Permalink to this definition">¶</a></dt>
<dd><p>posts object to url. Returns None if fails.</p>
</dd></dl>

<dl class="function">
<dt id="pns.common.postJsonObj2">
<code class="sig-prename descclassname">pns.common.</code><code class="sig-name descname">postJsonObj2</code><span class="sig-paren">(</span><em class="sig-param">url</em>, <em class="sig-param">obj</em>, <em class="sig-param">headers</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.common.postJsonObj2" title="Permalink to this definition">¶</a></dt>
<dd><p>post object to url. Return None if fail.</p>
</dd></dl>

<dl class="function">
<dt id="pns.common.putJsonObj">
<code class="sig-prename descclassname">pns.common.</code><code class="sig-name descname">putJsonObj</code><span class="sig-paren">(</span><em class="sig-param">url</em>, <em class="sig-param">obj</em>, <em class="sig-param">headers</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.common.putJsonObj" title="Permalink to this definition">¶</a></dt>
<dd><p>puts object to url. Returns None if fails.</p>
</dd></dl>

<dl class="function">
<dt id="pns.common.trbk">
<code class="sig-prename descclassname">pns.common.</code><code class="sig-name descname">trbk</code><span class="sig-paren">(</span><em class="sig-param">e</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.common.trbk" title="Permalink to this definition">¶</a></dt>
<dd><p>trace back</p>
</dd></dl>

<dl class="function">
<dt id="pns.common.writeJsonObj">
<code class="sig-prename descclassname">pns.common.</code><code class="sig-name descname">writeJsonObj</code><span class="sig-paren">(</span><em class="sig-param">o</em>, <em class="sig-param">fn</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.common.writeJsonObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Write an object to file fn in json safely
Return True if successful else False</p>
</dd></dl>

<span class="target" id="module-pns.logdict"></span><span class="target" id="module-pns.options"></span><dl class="function">
<dt id="pns.options.opt">
<code class="sig-prename descclassname">pns.options.</code><code class="sig-name descname">opt</code><span class="sig-paren">(</span><em class="sig-param">node</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.options.opt" title="Permalink to this definition">¶</a></dt>
<dd><p>Get username and password and host ip and port</p>
</dd></dl>

<span class="target" id="module-pns.pnsconfig"></span><span class="target" id="module-pns.runflaskserver"></span><span class="target" id="module-pns.server"></span><dl class="function">
<dt id="pns.server.bad_request">
<code class="sig-prename descclassname">pns.server.</code><code class="sig-name descname">bad_request</code><span class="sig-paren">(</span><em class="sig-param">error</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.server.bad_request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pns.server.calc">
<code class="sig-prename descclassname">pns.server.</code><code class="sig-name descname">calc</code><span class="sig-paren">(</span><em class="sig-param">d</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.server.calc" title="Permalink to this definition">¶</a></dt>
<dd><p>generates result product directly using data on PNS.</p>
</dd></dl>

<dl class="function">
<dt id="pns.server.calcresult">
<code class="sig-prename descclassname">pns.server.</code><code class="sig-name descname">calcresult</code><span class="sig-paren">(</span><em class="sig-param">cmd</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.server.calcresult" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pns.server.checkpath">
<code class="sig-prename descclassname">pns.server.</code><code class="sig-name descname">checkpath</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.server.checkpath" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pns.server.cleanPTS">
<code class="sig-prename descclassname">pns.server.</code><code class="sig-name descname">cleanPTS</code><span class="sig-paren">(</span><em class="sig-param">d</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.server.cleanPTS" title="Permalink to this definition">¶</a></dt>
<dd><p>Removing traces of past runnings the Processing Task Software.</p>
</dd></dl>

<dl class="function">
<dt id="pns.server.cleanup">
<code class="sig-prename descclassname">pns.server.</code><code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><em class="sig-param">cmd</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.server.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>DELETE is used to clean up the Processing Task Software
(PST) to its initial configured state.</p>
</dd></dl>

<dl class="function">
<dt id="pns.server.configPNS">
<code class="sig-prename descclassname">pns.server.</code><code class="sig-name descname">configPNS</code><span class="sig-paren">(</span><em class="sig-param">d=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.server.configPNS" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the PNS itself by replacing the pnsconfig var</p>
</dd></dl>

<dl class="function">
<dt id="pns.server.configPTS">
<code class="sig-prename descclassname">pns.server.</code><code class="sig-name descname">configPTS</code><span class="sig-paren">(</span><em class="sig-param">d=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.server.configPTS" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the Processing Task Software by running the config script. Ref init PTS.</p>
</dd></dl>

<dl class="function">
<dt id="pns.server.defaultprocessinput">
<code class="sig-prename descclassname">pns.server.</code><code class="sig-name descname">defaultprocessinput</code><span class="sig-paren">(</span><em class="sig-param">data</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.server.defaultprocessinput" title="Permalink to this definition">¶</a></dt>
<dd><p>puts all undecoded json to every files.</p>
</dd></dl>

<dl class="function">
<dt id="pns.server.defaultprocessoutput">
<code class="sig-prename descclassname">pns.server.</code><code class="sig-name descname">defaultprocessoutput</code><span class="sig-paren">(</span><em class="sig-param">filemode</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.server.defaultprocessoutput" title="Permalink to this definition">¶</a></dt>
<dd><p>reads each of the files and returns the contents in a filename indexed dict.</p>
</dd></dl>

<dl class="function">
<dt id="pns.server.filesin">
<code class="sig-prename descclassname">pns.server.</code><code class="sig-name descname">filesin</code><span class="sig-paren">(</span><em class="sig-param">dir</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.server.filesin" title="Permalink to this definition">¶</a></dt>
<dd><p>returns names and contents of all files in the dir, ‘None’ if dir not existing.</p>
</dd></dl>

<dl class="function">
<dt id="pns.server.genposttestprod">
<code class="sig-prename descclassname">pns.server.</code><code class="sig-name descname">genposttestprod</code><span class="sig-paren">(</span><em class="sig-param">d</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.server.genposttestprod" title="Permalink to this definition">¶</a></dt>
<dd><p>generate post test product.
put the 1st input (see maketestdata in test_all.py)
parameter to metadata
and 2nd to the product’s dataset</p>
</dd></dl>

<dl class="function">
<dt id="pns.server.get_apis">
<code class="sig-prename descclassname">pns.server.</code><code class="sig-name descname">get_apis</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pns.server.get_apis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pns.server.getinfo">
<code class="sig-prename descclassname">pns.server.</code><code class="sig-name descname">getinfo</code><span class="sig-paren">(</span><em class="sig-param">cmd</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.server.getinfo" title="Permalink to this definition">¶</a></dt>
<dd><p>returns init, config, run input, run output.</p>
</dd></dl>

<dl class="function">
<dt id="pns.server.initPTS">
<code class="sig-prename descclassname">pns.server.</code><code class="sig-name descname">initPTS</code><span class="sig-paren">(</span><em class="sig-param">d=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.server.initPTS" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the Processing Task Software by running the init script defined in the config. Execution on the server host is in the pnshome directory and run result and status are returned. If input/output directories cannot be created with serveruser as owner, Error401 will be given.</p>
</dd></dl>

<dl class="function">
<dt id="pns.server.makepublicAPI">
<code class="sig-prename descclassname">pns.server.</code><code class="sig-name descname">makepublicAPI</code><span class="sig-paren">(</span><em class="sig-param">ops</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.server.makepublicAPI" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pns.server.not_found">
<code class="sig-prename descclassname">pns.server.</code><code class="sig-name descname">not_found</code><span class="sig-paren">(</span><em class="sig-param">error</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.server.not_found" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pns.server.run">
<code class="sig-prename descclassname">pns.server.</code><code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">d</em>, <em class="sig-param">processinput=None</em>, <em class="sig-param">processoutput=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.server.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a product by running script defined in the config under ‘run’. Execution on the server host is in the pnshome directory and run result and status are returned.</p>
</dd></dl>

<dl class="function">
<dt id="pns.server.setup">
<code class="sig-prename descclassname">pns.server.</code><code class="sig-name descname">setup</code><span class="sig-paren">(</span><em class="sig-param">cmd</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.server.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>PUT is used to initialize or configure the Processing Task Software
(PST).</p>
</dd></dl>

<dl class="function">
<dt id="pns.server.testinit">
<code class="sig-prename descclassname">pns.server.</code><code class="sig-name descname">testinit</code><span class="sig-paren">(</span><em class="sig-param">d=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.server.testinit" title="Permalink to this definition">¶</a></dt>
<dd><p>Renames the ‘init’ ‘config’ ‘run’ ‘clean’ scripts to ‘.save’ and points it to the ‘.ori’ scripts.</p>
</dd></dl>

<dl class="function">
<dt id="pns.server.testrun">
<code class="sig-prename descclassname">pns.server.</code><code class="sig-name descname">testrun</code><span class="sig-paren">(</span><em class="sig-param">d</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.server.testrun" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pns.server.unauthorized">
<code class="sig-prename descclassname">pns.server.</code><code class="sig-name descname">unauthorized</code><span class="sig-paren">(</span><em class="sig-param">error</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.server.unauthorized" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pns.server.uploadScript">
<code class="sig-prename descclassname">pns.server.</code><code class="sig-name descname">uploadScript</code><span class="sig-paren">(</span><em class="sig-param">op</em>, <em class="sig-param">d=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.server.uploadScript" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pns.server.verify">
<code class="sig-prename descclassname">pns.server.</code><code class="sig-name descname">verify</code><span class="sig-paren">(</span><em class="sig-param">username</em>, <em class="sig-param">password</em><span class="sig-paren">)</span><a class="headerlink" href="#pns.server.verify" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is called to check if a username /
password combination is valid.</p>
</dd></dl>

</div>
<div class="section" id="module-pns">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pns" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pns.resources.html" title="pns.resources package"
             >next</a> |</li>
        <li class="right" >
          <a href="../pal/pal.resources.html" title="pal.resources package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">spdc v0.6 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../api.html" >API Reference</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Maohai Huang.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>
  </body>
</html>